<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      summary {
        outline: none;
      }
    </style>
  </head>
  <body>
    <script>
      const challenges = [
        {
          title: "30 Days of Python",
          topic: "Python",
          status: "Done",
          highlights: "Python, Numpy, Pandas, API, Statistics",
        },
        {
          title: "30 Days of Javascript",
          topic: "Javascript",
          status: "Ongoing",
          highlights: "Javascript, Es6, async/await, Promises",
        },
        {
          title: "30 Days of HTML & CSS",
          topic: "HTML & CSS",
          status: "Coming",
          highlights: "HTML, CSS, Flexbox, Grid, Box Model",
        },
        {
          title: "30 Days of React",
          topic: "React",
          status: "Coming",
          highlights: "React Basics, Props, Hooks, Redux",
        },
        {
          title: "30 Days of Reactnative",
          topic: "Reactnative",
          status: "Coming",
          highlights: "Reactnative, Expo, Flex, Plugins",
        },
        {
          title: "30 Days of Fullstack",
          topic: "Fullstack",
          status: "Coming",
          highlights: "Fullstack Basics, Frontend, API",
        },
        {
          title: "30 Days of Data analysis",
          topic: "Data Analysis",
          status: "Coming",
          highlights: "Pandas, Numpy, Data analysis",
        },
        {
          title: "30 Days of Machine Learning",
          topic: "Machine learning",
          status: "Coming",
          highlights: "Pandas, Numpy, OpenCV, Machine learning",
        },
      ];
      const colors = {
        red: "#fd5e53",
        yellow: "#fddb3a",
        green: "#21bf73",
      };

      const bodyEl = document.querySelector("body");
      bodyEl.style.fontFamily = "Avenir, Ubuntu, Segoe ui, Sans-serif";
      const headerEl = document.createElement("header");
      headerEl.innerHTML = `
        <h1>Asabeneh Yatayeyeh Challenges in <span>${new Date().getFullYear()}</span></h1>
        <h2>30 Days Of JavaScript Challenge</h2>
        <p><span class="time">June 18, 2021 19:57:04</span></p>
      `;
      headerEl.style.textAlign = "center";
      bodyEl.appendChild(headerEl);
      const yearEl = document.querySelector("h1 > span");
      yearEl.style.fontSize = "5rem";
      document.querySelector("header > h2").style.textDecoration = "underline";
      document.querySelector("header > h2").style.fontWeight = "400";
      const timeEl = document.querySelector(".time");
      timeEl.style.backgroundColor = "red";
      timeEl.style.padding = "0.5rem 2rem";

      const challengesEl = document.createElement("div");
      challengesEl.style.display = "grid";
      challengesEl.style.gridRowGap = "0.25rem";
      challengesEl.style.maxWidth = "50%";
      challengesEl.style.margin = "1.5rem auto";

      challenges.forEach((challenge, i) => {
        const challengeEl = document.createElement("div");
        challengeEl.style.display = "flex";
        challengeEl.style.justifyContent = "space-between";
        challengeEl.style.alignItems = "center";
        challengeEl.style.backgroundColor =
          challenge.status === "Done"
            ? colors.green
            : challenge.status === "Ongoing"
            ? colors.yellow
            : colors.red;
        challengeEl.style.padding = "1rem 1.5rem";

        const first =
          `${challenge.status}` === "Done" ||
          `${challenge.status}` === "Ongoing"
            ? `<u>${challenge.title}</u>`
            : `${challenge.title}`;
        // const first =
        //   i === 0 || i === 1
        //     ? `<u>${challenge.title}</u>`
        //     : `${challenge.title}`;
        challengeEl.innerHTML = `
          <span>${first}</span>
          <details>
            <summary>${challenge.topic}</summary>
            ${challenge.highlights
              .split(", ")
              .map((highlight) => "<p>" + highlight + "</p>")
              .join("\n")}
          </details>
          <span>${challenge.status}</span>
        `;
        challengesEl.appendChild(challengeEl);
      });
      bodyEl.appendChild(challengesEl);

      const rand = (max = 256) => Math.floor(Math.random() * max);
      const months =
        "January,February,March,April,May,June,July,August,September,October,November,December".split(
          ","
        );

      setInterval(() => {
        yearEl.style.color = `rgb(${rand()}, ${rand()}, ${rand()})`;
        timeEl.style.backgroundColor = `rgb(${rand()}, ${rand()} , ${rand()})`;

        const now = new Date();
        timeEl.textContent = `${
          months[now.getMonth()]
        } ${now.getDate()}, ${now.getFullYear()} ${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}`;
      }, 1000);
    </script>
  </body>
</html>
